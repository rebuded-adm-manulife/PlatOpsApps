<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Modify AVD Parser</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header class="site-header">
    <a class="btn" href="avd-tools.html">â† Back to AVD Tools</a>
    <h1 style="margin:0">Modify AVD Parser for Email Template</h1>
  </header>

  <main class="container">
    <div class="card">
      <h2>Input</h2>
      <textarea id="raw" placeholder="Paste ServiceNow details here..."></textarea>
      <div class="actions">
        <button class="warn" id="parseBtn">ğŸ” Parse</button>
        <button class="success" id="addToListBtn">â• Add to List</button>
        <button class="primary" id="sampleBtn">ğŸ§ª Fill Sample</button>
        <button class="danger" id="clearRawBtn">ğŸ§¹ Clear Input</button>
      </div>

      <div id="entryList" style="display:none;margin:12px 0;padding:12px;background:rgba(255,255,255,0.02);border:1px solid rgba(255,255,255,0.04);border-radius:8px;">
        <h3 style="margin:0 0 8px 0;font-size:0.95rem;color:var(--muted);">Entries to Include (<span id="entryCount">0</span>)</h3>
        <div id="entries"></div>
      </div>

      <div class="meta-fields">
        <input id="ritm" placeholder="RITM number">
        <input id="requestedFor" placeholder="Requested for">
        <input id="avdName" placeholder="AVD Name">
        <input id="modifyStandardFor" placeholder="Modify standard for">
        <input id="toEmails" placeholder="To (comma-separated) - optional">
        <input id="managerEmail" placeholder="Manager Email (added to CC) - optional">
        <div style="display:flex;gap:8px;align-items:center">
          <input id="signatureName" placeholder="Signature full name (for footer)">
          <span id="signatureSavedIndicator" class="saved-indicator" aria-hidden="true">âœ“ Saved</span>
        </div>
        <div class="signature-email-row">
          <select id="signatureEmail" aria-label="Saved signature emails">
            <option value="">Select signature emailâ€¦</option>
          </select>
          <input id="newSignatureEmail" placeholder="Add email">
          <button type="button" class="primary small" id="addSignatureEmailBtn">ï¼‹</button>
          <button type="button" class="danger small" id="deleteSignatureEmailBtn">ğŸ—‘</button>
        </div>
      </div>

      <div class="actions">
        <button class="success" id="copyBtn">ğŸ“‹ Copy</button>
        <button class="primary" id="downloadBtn">â¬‡ï¸ Download</button>
        <button class="primary" id="generateEmailBtn">ğŸ“§ Generate Email (.eml - editable draft)</button>
        <button class="danger" id="clearFieldsBtn">ğŸ§¼ Clear Fields</button>
        <button class="danger" id="clearEntriesBtn">ğŸ—‘ Clear All Entries</button>
        <button class="btn small" id="clearSavedBtn">ğŸ—‘ï¸ Clear Saved Settings</button>
      </div>
    </div>

    <div class="card">
      <h2>Preview</h2>
      <div id="preview" class="preview rich-preview">AVD Modify request has been completed.

RITM number:
Requested for :
AVD Name:
Modify standard for :</div>
    </div>
  </main>

  <script src="scripts.js"></script>
  <script src="modify-email.js"></script>
</body>
</html>